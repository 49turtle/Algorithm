# PRGS_2022 KAKAO BLIND RECRUITMENT. k진수에서 소수 개수 구하기



출처: https://school.programmers.co.kr/learn/courses/30/lessons/92335



<br>

## 문제 설명

<br>



양의 정수 n이 주어집니다. 이 숫자를 k진수로 바꿨을 때, 변환된 수 안에 아래 조건에 맞는 소수(Prime number)가 몇 개인지 알아보려 합니다.

- `0P0`처럼 소수 양쪽에 0이 있는 경우
- `P0`처럼 소수 오른쪽에만 0이 있고 왼쪽에는 아무것도 없는 경우
- `0P`처럼 소수 왼쪽에만 0이 있고 오른쪽에는 아무것도 없는 경우
- `P`처럼 소수 양쪽에 아무것도 없는 경우
- 단, `P`는 각 자릿수에 0을 포함하지 않는 소수입니다.
  - 예를 들어, 101은 `P`가 될 수 없습니다.
예를 들어, 437674을 3진수로 바꾸면 `211`0`2`01010`11`입니다. 여기서 찾을 수 있는 조건에 맞는 소수는 왼쪽부터 순서대로 211, 2, 11이 있으며, 총 3개입니다. (211, 2, 11을 `k`진법으로 보았을 때가 아닌, 10진법으로 보았을 때 소수여야 한다는 점에 주의합니다.) 211은 `P0` 형태에서 찾을 수 있으며, 2는 `0P0`에서, 11은 `0P`에서 찾을 수 있습니다.

정수 n과 k가 매개변수로 주어집니다. n을 k진수로 바꿨을 때, 변환된 수 안에서 찾을 수 있는 위 조건에 맞는 소수의 개수를 return 하도록 solution 함수를 완성해 주세요.


<br>

## 제한사항

<br>

- 1 ≤ n ≤ 1,000,000
- 3 ≤ k ≤ 10



<br>

## 입출력 예시

<br>

| n	| k	| result |
| - | - | - |
|437674 |	3	| 3 |
|110011	| 10 | 2 |

<br>

## 풀이

<br>

위 문제를 풀기 위해 구현해야 알고리즘은 크게 2가지.
```
1. 자연수 n을 k진수로 변환
2. 어떤 자연수가 소수인지를 판별
```

1. 자연수 n을 k진수로 변환
  - 1번의 경우 나머지 계산을 반복하며 k진수로 변환하는 방법을 생각했다. 코드 주석에 예시를 달아놓은 것처럼 자연수 `n`을 `temp`라는 변수에 저장하고, 이를 `k`로 나머지 연산을 하며 `temp /= k`로 `temp`값을 갱신해주었다.
  - 갱신한 값을 StringBuilder를 사용해서 순서대로 append해주었고, 마지막에 이를 reverse, toString 변환을 통해서 String형의 k진수를 출력하는 메소드를 만들었다.
  - java에서 아직도 까다로운 부분은 자료형을 다루는 부분인데, 특히 프로그래머스에서 자동완성 없이 String, int, StringBuilder 등의 자료형 및 그에 맞는 메소드를 다루려다 보니 오류가 많이 발생했다. 연습이 많이 필요하다고 느꼈다


2. 어떤 자연수가 소수인지를 판별
  - 알고리즘 구조에 따라서 시간복잡도가 크게 차이날 수 있는 곳이라고 생각한다.
  - 이에 따라 예전 알고리즘 문제 중 자연수 n보다 작거나 같은 소수를 전부 찾고자할 때 n의 양의 제곱근까지만 찾으면 된다는 소수의 성질을 이용한 문제를 활용했다.
  - 정답이 나오지 않아서 더 극한으로 시간복잡도를 줄여야하나 싶었다.(결론부터 말하자면, int형의 범위 초과 문제가 틀린 원인이었지만...) 따라서 한 가지 소수의 성질을 더 활용해서 소수 판별 알고리즘을 더 빠르게 동작하도록 만들어봤다. 2, 3을 제외한 모든 소수는 `6k+1`이거나 `6k-1`의 꼴(k는 자연수)이라는 성질을 지니고 있기에 이를 제곱근 성질과 같이 활용한다면 더 적은 횟수의 비교로 소수를 판별할 수 있다.
  - 추가로 찾은 소수/비소수를 각각 소수/비소수 집합에 넣어놓고, 비교 이전에 해당 집합에 존재하는 수라면 비교하지 않게끔 set을 활용해서 시간을 더 줄이고자 했다.
  - 그래도 정답(1번, 11번 테케 오답)이 안나오길래 오답인 이유를 찾아보려고 했는데...`n의 최댓값이 백만이라 2진수로 변환하거나 하면 길이가 int 범위를 넘어가기 때문`이라는 질문 게시판 내용을 보고, long형으로 고쳤더니 정답이었다.
  - 시간 초과와 런타임 에러의 차이에 대해서 습득할 수 있는 시간이었다.